# Cross-compilation configuration

# macOS (Apple Silicon) - Default target on your machine
[target.aarch64-apple-darwin]
rustflags = ["-C", "target-cpu=native"]

# macOS (Intel)
[target.x86_64-apple-darwin]
rustflags = ["-C", "target-cpu=native"]

# Linux AMD64 (Standard)
# Requires a linker if compiled from macOS (e.g., x86_64-unknown-linux-gnu-gcc)
# [target.x86_64-unknown-linux-gnu]
# linker = "x86_64-unknown-linux-gnu-gcc"

# Windows AMD64 (Via MinGW for cross-compilation from Mac/Linux)
[target.x86_64-pc-windows-gnu]
linker = "x86_64-w64-mingw32-gcc"

# Milk-V / ARM64 Linux
# Requires ARM64 toolchain (e.g., aarch64-unknown-linux-gnu-gcc)
# [target.aarch64-unknown-linux-gnu]
# linker = "aarch64-unknown-linux-gnu-gcc"

# Aliases to simplify build commands
[alias]
build-mac = "build --release --target aarch64-apple-darwin"
build-linux = "build --release --target x86_64-unknown-linux-gnu"
build-win = "build --release --target x86_64-pc-windows-gnu"
build-milkv = "build --release --target aarch64-unknown-linux-gnu"
build-all = ["build", "--release", "--target", "aarch64-apple-darwin", "--target", "x86_64-unknown-linux-gnu", "--target", "x86_64-pc-windows-gnu", "--target", "aarch64-unknown-linux-gnu"]
